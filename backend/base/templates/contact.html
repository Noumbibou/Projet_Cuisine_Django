{% extends 'base.html' %}

{% block content %}
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap');
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: #f5f5f7;
  color: #333;
  min-height: 100vh;
  padding: 40px 0;
}
.contact-wrapper {
  background: #fff;
  border-radius: 20px;
  max-width: 900px;
  width: 100%;
  display: flex;
  box-shadow: 0 15px 40px rgba(0,0,0,0.08);
  overflow: hidden;
  margin: 40px auto;
}
.contact-info {
  background: #fafafa;
  padding: 50px 40px;
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 30px;
  border-right: 2px solid #e0e0e0;
  font-size: 1.1rem;
  color: #0c0c0b;
}
.contact-info h2 {
  font-weight: 600;
  font-size: 2.2rem;
  margin-bottom: 10px;
  letter-spacing: 1px;
  color: #181716;
}
.info-item {
  display: flex;
  align-items: center;
  gap: 15px;
  cursor: default;
  user-select: none;
  transition: color 0.3s ease;
}
.icon {
  width: 28px;
  height: 28px;
  fill: #00c3ff;
  flex-shrink: 0;
  transition: fill 0.3s ease;
}
.info-item:hover {
  color: #00c3ff;
}
.info-item:hover .icon {
  fill: #00c3ff;
}
.contact-form {
  flex: 1;
  padding: 50px 40px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 25px;
  color: #333;
  background: #fff;
}
.contact-form h3 {
  font-weight: 600;
  font-size: 2rem;
  margin-bottom: 15px;
  color: #222;
}
.input-group {
  position: relative;
  width: 100%;
}
input[type="email"],
textarea {
  width: 100%;
  background: transparent;
  border: none;
  border-bottom: 2px solid #ccc;
  color: #222;
  font-size: 1.1rem;
  padding: 12px 10px 8px 10px;
  outline: none;
  resize: none;
  transition: border-color 0.3s ease;
  font-weight: 300;
}
input[type="email"]::placeholder,
textarea::placeholder {
  color: #aaa;
  font-weight: 300;
}
input[type="email"]:focus,
textarea:focus {
  border-color: #00c3ff;
}
label {
  position: absolute;
  top: 12px;
  left: 10px;
  color: #aaa;
  font-size: 1rem;
  pointer-events: none;
  transition: all 0.3s ease;
  font-weight: 300;
}
input:focus + label,
input:not(:placeholder-shown) + label,
textarea:focus + label,
textarea:not(:placeholder-shown) + label {
  top: -18px;
  font-size: 0.85rem;
  color: #444;
  font-weight: 600;
}
button {
  margin-top: 10px;
  background: linear-gradient(90deg, #00c3ff 0%, #00c3ff 100%);
  border: none;
  padding: 15px 0;
  border-radius: 40px;
  font-size: 1.2rem;
  font-weight: 600;
  color: #fff;
  cursor: pointer;
  transition: background 0.3s, color 0.3s;
  box-shadow: 0 8px 15px rgba(255,102,0,0.18);
}
button:hover {
  background: linear-gradient(90deg, #00c3ff 0%, #00c3ff 100%);
  color: #fff;
  box-shadow: 0 12px 20px rgba(204,82,0,0.22);
}
.success-message {
  margin-top: 15px;
  font-weight: 600;
  color: #28a745;
  text-align: center;
  opacity: 0;
  transition: opacity 0.5s;
}
.success-message.visible {
  opacity: 1;
}
.error-message {
  margin-top: 10px;
  font-weight: 600;
  color: #e74c3c;
  text-align: center;
}
@media (max-width: 900px) {
  .contact-wrapper {
    flex-direction: column;
    border-radius: 15px;
    margin: 20px 0;
  }
  .contact-info {
    border-right: none;
    border-bottom: 2px solid #e0e0e0;
    padding: 40px 30px;
  }
  .contact-form {
    padding: 40px 30px;
  }
}
</style>

<div class="contact-wrapper" role="main" aria-label="Section contact">
  <section class="contact-info" aria-labelledby="contact-info-title">
    <h2 id="contact-info-title">Coordonnées de l'entreprise</h2>
    <div class="info-item" tabindex="0" aria-label="Adresse">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
      </svg>
      <span>123 Rue de l'Innovation, 75000 Casablanca, Maroc</span>
    </div>
    <div class="info-item" tabindex="0" aria-label="Téléphone">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2a1 1 0 011.11-.21c1.2.48 2.5.74 3.83.74a1 1 0 011 1v3.5a1 1 0 01-1 1C10.07 21.5 2.5 13.93 2.5 4a1 1 0 011-1h3.5a1 1 0 011 1c0 1.33.26 2.63.74 3.83a1 1 0 01-.21 1.11l-2.2 2.2z"/>
      </svg>
      <span>+212 23 45 67 89</span>
    </div>
    <div class="info-item" tabindex="0" aria-label="Email">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
      </svg>
      <span>contact@exemple.com</span>
    </div>
    <div class="info-item" tabindex="0" aria-label="Horaires">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M12 20a8 8 0 110-16 8 8 0 010 16zm.5-13h-1v6l5.25 3.15.75-1.23-4.5-2.67V7z"/>
      </svg>
      <span>Lun - Ven : 9h00 - 18h00</span>
    </div>
  </section>

  <section class="contact-form" aria-labelledby="contact-form-title">
    <h3 id="contact-form-title">Envoyez-nous un message</h3>
    <form id="contactForm" method="post" novalidate>
                    {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
      {% csrf_token %}
      <div class="input-group">
        <input type="email" id="email" name="email" placeholder=" " required aria-required="true" aria-describedby="emailError" value="{{ request.POST.email|default:'' }}" />
        <label for="email">Votre Email</label>
        {% if error and not request.POST.email %}
          <div id="emailError" role="alert" style="color:#ff6b6b; font-size:0.9rem; margin-top:4px;">
            Veuillez saisir un email valide.
          </div>
        {% endif %}
      </div>
      <div class="input-group">
        <textarea id="message" name="message" rows="5" placeholder=" " required aria-required="true" aria-describedby="messageError">{{ request.POST.message|default:'' }}</textarea>
        <label for="message">Votre Message</label>
        {% if error and not request.POST.message %}
          <div id="messageError" role="alert" style="color:#181614; font-size:0.9rem; margin-top:4px;">
            Le message ne peut pas être vide.
          </div>
        {% endif %}
      </div>
      <button type="submit" aria-label="Envoyer le message">Envoyer</button>
    </form>
    {% if success %}
      <div class="success-message visible" role="status" aria-live="polite">
        ✅ Merci pour votre message, nous vous répondrons rapidement !
      </div>
    {% endif %}
    {% if error %}
      <div class="error-message">{{ error }}</div>
    {% endif %}
  </section>
</div>
{% endblock %}